<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../../../assets/css/light.css" integrity="sha512-ZX/aBpdCBW4Eu5Bjc7USrGeiSiN2UpIuetQ1YMRtplE4MkM78yNQ+KiJYTWqFueppZ1C//BgkiOd+Vvx//iabw==" title="Light" id="stylesheet-light"><link rel="stylesheet" href="../../../assets/css/dark.css" integrity="sha512-w0U8MAmTKZwYGKoZzBaimTEtI6cRyPxTv78JtkqDmvfjljTGU55Nppb++dx5aDvdhoY6R1UMRQzTOYg0Z9DOoQ==" title="Dark" id="stylesheet-dark" disabled><title>Programming Language Foundations in Agda – Assignment3</title><script src="../../../assets/js/anchor.js" integrity="sha512-Y5IMGqYQp36NYYdEL6gXISLsHNpx0LxW0NS0twvYBvXI8GH5PZa1g5gm1B5lxg6tlFyUAiOOfgKL/NIn0dtY4w==" id="script-anchor"></script><script src="../../../assets/js/darkmode.js" integrity="sha512-iUX9HnSphH4WbMv88MYJEFtLfkCtTHrvWyFwjigSm5GkwHv1L31GP5grIGDo7kI2jftuYVvt4xu4qeCn2fKbww==" id="script-darkmode"></script><script src="../../../assets/js/main.js" integrity="sha512-X7aZg6IUKq1TvTVjSureaMGKZ/ylbAD7kxiU2w42IUgh4lUTWoOsoIWzNvrqkwBJdQ1y2GsS67gtsv39Uuq6ew==" id="script-main"></script></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="../../../">Programming Language Foundations in Agda</a><nav class="site-nav"><input type="checkbox" id="nav-trigger" class="nav-trigger"><label for="nav-trigger"><span class="menu-icon"><svg class="svg-icon grey" viewBox="0 0 18 15" width="18px" height="15px"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></span></label><div class="trigger"><a class="page-link" href="../../../">The Book</a> <a class="page-link" href="../../../Announcements/">Announcements</a> <a class="page-link" href="../../../GettingStarted/">Getting Started</a> <a class="page-link" href="../../../Citing/">Citing</a> <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a> <a class="page-link" onclick="window.darkmode.toggle()"><i id="darkmode-trigger" class="fas fa-moon" aria-hidden="true"></i> </a><a class="page-link" href="../../../plfa.epub"><i class="fa fa-book" aria-hidden="true"></i></a></div></nav></div></header><main class="page-content" aria-label="Content"><div class="wrapper"><article class="post"><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/courses/TSPL/2022/Assignment3.lagda.md">Source</a></li><li class="separator">•</li></ul></nav><header class="post-header"><h1 class="post-title">Assignment3: TSPL Assignment 3</h1></header><div class="post-content"><pre class="Agda"><a id="TSPL.2022_Assignment3-95" class="Keyword">module</a> <a id="TSPL.2022_Assignment3-102" href="../../../TSPL/2022/Assignment3/#" class="Module">Assignment3</a> <a id="TSPL.2022_Assignment3-114" class="Keyword">where</a>
</pre><h2 id="your-name-and-email-goes-here">YOUR NAME AND EMAIL GOES HERE</h2><h2 id="introduction">Introduction</h2><p>You must do <em>all</em> the exercises labelled “(recommended)”.</p><p>Exercises labelled “(stretch)” are there to provide an extra challenge. You don’t need to do all of these, but should attempt at least a few.</p><p>Exercises labelled “(practice)” are included for those who want extra practice.</p><p>Submit your homework using the “submit” command. Please ensure your files execute correctly under Agda!</p><h2 id="good-scholarly-practice.">Good Scholarly Practice.</h2><p>Please remember the University requirement as regards all assessed work. Details about this can be found at:</p><blockquote><p><a href="https://web.inf.ed.ac.uk/infweb/admin/policies/academic-misconduct">https://web.inf.ed.ac.uk/infweb/admin/policies/academic-misconduct</a></p></blockquote><p>Furthermore, you are required to take reasonable measures to protect your assessed work from unauthorised access. For example, if you put any such work on a public repository then you must set access permissions appropriately (generally permitting access only to yourself, or your group in the case of group practicals).</p><h2 id="decidable">Decidable</h2><pre class="Agda"><a id="TSPL.2022_Assignment3-1185" class="Keyword">module</a> <a id="TSPL.2022_Assignment3-Decidable"></a><a id="TSPL.2022_Assignment3-1192" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-1192" class="Module">Decidable</a> <a id="TSPL.2022_Assignment3-1202" class="Keyword">where</a>
</pre><h2 id="imports">Imports</h2><pre class="Agda">  <a id="TSPL.2022_Assignment3-1235" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1242" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="TSPL.2022_Assignment3-1280" class="Symbol">as</a> <a id="TSPL.2022_Assignment3-1283" class="Module">Eq</a>
  <a id="TSPL.2022_Assignment3-1288" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1293" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="TSPL.2022_Assignment3-1296" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1302" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1303" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="TSPL.2022_Assignment3-1306" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1308" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="TSPL.2022_Assignment3-1312" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1316" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1321" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">Eq.≡-Reasoning</a>
  <a id="TSPL.2022_Assignment3-1338" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1343" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1350" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="TSPL.2022_Assignment3-1359" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1365" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1366" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="TSPL.2022_Assignment3-1367" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1369" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="TSPL.2022_Assignment3-1373" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1375" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="TSPL.2022_Assignment3-1378" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1382" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1387" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1394" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="TSPL.2022_Assignment3-1407" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1413" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1414" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="TSPL.2022_Assignment3-1417" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-1419" class="Keyword">renaming</a> <a id="TSPL.2022_Assignment3-1428" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1429" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="TSPL.2022_Assignment3-1433" class="Symbol">to</a> <a id="TSPL.2022_Assignment3-1436" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="TSPL.2022_Assignment3-1441" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1445" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1450" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1457" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.html" class="Module">Data.Sum</a> <a id="TSPL.2022_Assignment3-1466" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1472" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1473" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">_⊎_</a><a id="TSPL.2022_Assignment3-1476" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1478" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a><a id="TSPL.2022_Assignment3-1482" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1484" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a><a id="TSPL.2022_Assignment3-1488" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1492" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1497" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1504" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="TSPL.2022_Assignment3-1521" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1527" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1528" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="TSPL.2022_Assignment3-1530" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1534" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1539" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1546" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="TSPL.2022_Assignment3-1572" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1578" class="Symbol">()</a>
    <a id="TSPL.2022_Assignment3-1585" class="Keyword">renaming</a> <a id="TSPL.2022_Assignment3-1594" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1595" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#778" class="Function">contradiction</a> <a id="TSPL.2022_Assignment3-1609" class="Symbol">to</a> <a id="TSPL.2022_Assignment3-1612" class="Function">¬¬-intro</a><a id="TSPL.2022_Assignment3-1620" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1624" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1629" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1636" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Unit.html" class="Module">Data.Unit</a> <a id="TSPL.2022_Assignment3-1646" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1652" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1653" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="TSPL.2022_Assignment3-1654" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1656" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="TSPL.2022_Assignment3-1658" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1662" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1667" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1674" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="TSPL.2022_Assignment3-1685" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1691" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1692" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="TSPL.2022_Assignment3-1693" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1695" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="TSPL.2022_Assignment3-1701" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1705" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1710" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1717" href="../../../Relations/#" class="Module">plfa.part1.Relations</a> <a id="TSPL.2022_Assignment3-1738" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1744" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1745" href="../../../Relations/#plfa_plfa-part1-Relations-18917" class="Datatype Operator">_&lt;_</a><a id="TSPL.2022_Assignment3-1748" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1750" href="../../../Relations/#plfa_plfa-part1-Relations-18944" class="InductiveConstructor">z&lt;s</a><a id="TSPL.2022_Assignment3-1753" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1755" href="../../../Relations/#plfa_plfa-part1-Relations-19001" class="InductiveConstructor">s&lt;s</a><a id="TSPL.2022_Assignment3-1758" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-1762" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1767" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1774" href="../../../Isomorphism/#" class="Module">plfa.part1.Isomorphism</a> <a id="TSPL.2022_Assignment3-1797" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-1803" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1804" href="../../../Isomorphism/#plfa_plfa-part1-Isomorphism-12023" class="Record Operator">_⇔_</a><a id="TSPL.2022_Assignment3-1807" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-1820" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-1825" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-1832" href="../../../Decidable/#" class="Module">plfa.part1.Decidable</a>
    <a id="TSPL.2022_Assignment3-1857" class="Keyword">hiding</a> <a id="TSPL.2022_Assignment3-1864" class="Symbol">(</a><a id="TSPL.2022_Assignment3-1865" href="../../../Decidable/#plfa_plfa-part1-Decidable-10479" class="Postulate Operator">_&lt;?_</a><a id="TSPL.2022_Assignment3-1869" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1871" href="../../../Decidable/#plfa_plfa-part1-Decidable-10667" class="Postulate Operator">_≡ℕ?_</a><a id="TSPL.2022_Assignment3-1876" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1878" href="../../../Decidable/#plfa_plfa-part1-Decidable-18657" class="Postulate">∧-×</a><a id="TSPL.2022_Assignment3-1881" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1883" href="../../../Decidable/#plfa_plfa-part1-Decidable-18735" class="Postulate">∨-⊎</a><a id="TSPL.2022_Assignment3-1886" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1888" href="../../../Decidable/#plfa_plfa-part1-Decidable-18813" class="Postulate">not-¬</a><a id="TSPL.2022_Assignment3-1893" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1895" href="../../../Decidable/#plfa_plfa-part1-Decidable-19100" class="Postulate Operator">_iff_</a><a id="TSPL.2022_Assignment3-1900" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1902" href="../../../Decidable/#plfa_plfa-part1-Decidable-19129" class="Postulate Operator">_⇔-dec_</a><a id="TSPL.2022_Assignment3-1909" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-1911" href="../../../Decidable/#plfa_plfa-part1-Decidable-19185" class="Postulate">iff-⇔</a><a id="TSPL.2022_Assignment3-1916" class="Symbol">)</a>
</pre><h4 id="exercise-__-recommended">Exercise <code>_&lt;?_</code> (recommended)</h4>Analogous to the function above, define a function to decide strict inequality:<pre class="Agda">  <a id="TSPL.2022_Assignment3-2049" class="Keyword">postulate</a>
    <a id="TSPL.2022_Assignment3-Decidable._&lt;?_"></a><a id="TSPL.2022_Assignment3-2063" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2063" class="Postulate Operator">_&lt;?_</a> <a id="TSPL.2022_Assignment3-2068" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2070" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-2072" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2073" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2073" class="Bound">m</a> <a id="TSPL.2022_Assignment3-2075" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2075" class="Bound">n</a> <a id="TSPL.2022_Assignment3-2077" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2079" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="TSPL.2022_Assignment3-2080" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-2082" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2084" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2088" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2089" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2073" class="Bound">m</a> <a id="TSPL.2022_Assignment3-2091" href="../../../Relations/#plfa_plfa-part1-Relations-18917" class="Datatype Operator">&lt;</a> <a id="TSPL.2022_Assignment3-2093" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2075" class="Bound">n</a><a id="TSPL.2022_Assignment3-2094" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-2111" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-_ℕ_-practice">Exercise <code>_≡ℕ?_</code> (practice)</h4>Define a function to decide whether two naturals are equal:<pre class="Agda">  <a id="TSPL.2022_Assignment3-2243" class="Keyword">postulate</a>
    <a id="TSPL.2022_Assignment3-Decidable._≡ℕ?_"></a><a id="TSPL.2022_Assignment3-2257" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2257" class="Postulate Operator">_≡ℕ?_</a> <a id="TSPL.2022_Assignment3-2263" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2265" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-2267" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2268" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2268" class="Bound">m</a> <a id="TSPL.2022_Assignment3-2270" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2270" class="Bound">n</a> <a id="TSPL.2022_Assignment3-2272" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2274" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="TSPL.2022_Assignment3-2275" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-2277" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2279" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2283" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2284" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2268" class="Bound">m</a> <a id="TSPL.2022_Assignment3-2286" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="TSPL.2022_Assignment3-2288" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2270" class="Bound">n</a><a id="TSPL.2022_Assignment3-2289" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-2306" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-erasure-practice">Exercise <code>erasure</code> (practice)</h4>Show that erasure relates corresponding boolean and decidable operations:<pre class="Agda">  <a id="TSPL.2022_Assignment3-2455" class="Keyword">postulate</a>
    <a id="TSPL.2022_Assignment3-Decidable.∧-×"></a><a id="TSPL.2022_Assignment3-2469" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2469" class="Postulate">∧-×</a> <a id="TSPL.2022_Assignment3-2473" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2475" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-2477" class="Symbol">{</a><a id="TSPL.2022_Assignment3-2478" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2478" class="Bound">A</a> <a id="TSPL.2022_Assignment3-2480" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2480" class="Bound">B</a> <a id="TSPL.2022_Assignment3-2482" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2484" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a><a id="TSPL.2022_Assignment3-2487" class="Symbol">}</a> <a id="TSPL.2022_Assignment3-2489" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2490" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2490" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2492" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2494" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2498" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2478" class="Bound">A</a><a id="TSPL.2022_Assignment3-2499" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-2501" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2502" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2502" class="Bound">y</a> <a id="TSPL.2022_Assignment3-2504" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2506" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2510" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2480" class="Bound">B</a><a id="TSPL.2022_Assignment3-2511" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-2513" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2515" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-2517" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2490" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2519" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a> <a id="TSPL.2022_Assignment3-2521" href="../../../Decidable/#plfa_plfa-part1-Decidable-13472" class="Function Operator">∧</a> <a id="TSPL.2022_Assignment3-2523" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-2525" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2502" class="Bound">y</a> <a id="TSPL.2022_Assignment3-2527" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a> <a id="TSPL.2022_Assignment3-2529" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="TSPL.2022_Assignment3-2531" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-2533" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2490" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2535" href="../../../Decidable/#plfa_plfa-part1-Decidable-13906" class="Function Operator">×-dec</a> <a id="TSPL.2022_Assignment3-2541" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2502" class="Bound">y</a> <a id="TSPL.2022_Assignment3-2543" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a>
    <a id="TSPL.2022_Assignment3-Decidable.∨-⊎"></a><a id="TSPL.2022_Assignment3-2549" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2549" class="Postulate">∨-⊎</a> <a id="TSPL.2022_Assignment3-2553" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2555" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-2557" class="Symbol">{</a><a id="TSPL.2022_Assignment3-2558" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2558" class="Bound">A</a> <a id="TSPL.2022_Assignment3-2560" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2560" class="Bound">B</a> <a id="TSPL.2022_Assignment3-2562" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2564" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a><a id="TSPL.2022_Assignment3-2567" class="Symbol">}</a> <a id="TSPL.2022_Assignment3-2569" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2570" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2570" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2572" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2574" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2578" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2558" class="Bound">A</a><a id="TSPL.2022_Assignment3-2579" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-2581" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2582" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2582" class="Bound">y</a> <a id="TSPL.2022_Assignment3-2584" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2586" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2590" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2560" class="Bound">B</a><a id="TSPL.2022_Assignment3-2591" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-2593" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2595" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-2597" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2570" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2599" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a> <a id="TSPL.2022_Assignment3-2601" href="../../../Decidable/#plfa_plfa-part1-Decidable-14850" class="Function Operator">∨</a> <a id="TSPL.2022_Assignment3-2603" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-2605" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2582" class="Bound">y</a> <a id="TSPL.2022_Assignment3-2607" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a> <a id="TSPL.2022_Assignment3-2609" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="TSPL.2022_Assignment3-2611" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-2613" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2570" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2615" href="../../../Decidable/#plfa_plfa-part1-Decidable-15287" class="Function Operator">⊎-dec</a> <a id="TSPL.2022_Assignment3-2621" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2582" class="Bound">y</a> <a id="TSPL.2022_Assignment3-2623" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a>
    <a id="TSPL.2022_Assignment3-Decidable.not-¬"></a><a id="TSPL.2022_Assignment3-2629" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2629" class="Postulate">not-¬</a> <a id="TSPL.2022_Assignment3-2635" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2637" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-2639" class="Symbol">{</a><a id="TSPL.2022_Assignment3-2640" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2640" class="Bound">A</a> <a id="TSPL.2022_Assignment3-2642" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2644" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a><a id="TSPL.2022_Assignment3-2647" class="Symbol">}</a> <a id="TSPL.2022_Assignment3-2649" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2650" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2650" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2652" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2654" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2658" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2640" class="Bound">A</a><a id="TSPL.2022_Assignment3-2659" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-2661" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2663" href="../../../Decidable/#plfa_plfa-part1-Decidable-16161" class="Function">not</a> <a id="TSPL.2022_Assignment3-2667" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-2669" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2650" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2671" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a> <a id="TSPL.2022_Assignment3-2673" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="TSPL.2022_Assignment3-2675" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-2677" href="../../../Decidable/#plfa_plfa-part1-Decidable-16302" class="Function">¬?</a> <a id="TSPL.2022_Assignment3-2680" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2650" class="Bound">x</a> <a id="TSPL.2022_Assignment3-2682" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a>
</pre><h4 id="exercise-iff-erasure-recommended">Exercise <code>iff-erasure</code> (recommended)</h4>Give analogues of the <code>_⇔_</code> operation from Chapter <a href="../../../Isomorphism/#iff">Isomorphism</a>, operation on booleans and decidables, and also show the corresponding erasure:<pre class="Agda">  <a id="TSPL.2022_Assignment3-2906" class="Keyword">postulate</a>
    <a id="TSPL.2022_Assignment3-Decidable._iff_"></a><a id="TSPL.2022_Assignment3-2920" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2920" class="Postulate Operator">_iff_</a> <a id="TSPL.2022_Assignment3-2926" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2928" href="../../../Decidable/#plfa_plfa-part1-Decidable-1938" class="Datatype">Bool</a> <a id="TSPL.2022_Assignment3-2933" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2935" href="../../../Decidable/#plfa_plfa-part1-Decidable-1938" class="Datatype">Bool</a> <a id="TSPL.2022_Assignment3-2940" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2942" href="../../../Decidable/#plfa_plfa-part1-Decidable-1938" class="Datatype">Bool</a>
    <a id="TSPL.2022_Assignment3-Decidable._⇔-dec_"></a><a id="TSPL.2022_Assignment3-2951" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2951" class="Postulate Operator">_⇔-dec_</a> <a id="TSPL.2022_Assignment3-2959" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2961" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-2963" class="Symbol">{</a><a id="TSPL.2022_Assignment3-2964" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2964" class="Bound">A</a> <a id="TSPL.2022_Assignment3-2966" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2966" class="Bound">B</a> <a id="TSPL.2022_Assignment3-2968" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-2970" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a><a id="TSPL.2022_Assignment3-2973" class="Symbol">}</a> <a id="TSPL.2022_Assignment3-2975" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2977" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2981" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2964" class="Bound">A</a> <a id="TSPL.2022_Assignment3-2983" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2985" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2989" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2966" class="Bound">B</a> <a id="TSPL.2022_Assignment3-2991" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-2993" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-2997" class="Symbol">(</a><a id="TSPL.2022_Assignment3-2998" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2964" class="Bound">A</a> <a id="TSPL.2022_Assignment3-3000" href="../../../Isomorphism/#plfa_plfa-part1-Isomorphism-12023" class="Record Operator">⇔</a> <a id="TSPL.2022_Assignment3-3002" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2966" class="Bound">B</a><a id="TSPL.2022_Assignment3-3003" class="Symbol">)</a>
    <a id="TSPL.2022_Assignment3-Decidable.iff-⇔"></a><a id="TSPL.2022_Assignment3-3009" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3009" class="Postulate">iff-⇔</a> <a id="TSPL.2022_Assignment3-3015" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-3017" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-3019" class="Symbol">{</a><a id="TSPL.2022_Assignment3-3020" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3020" class="Bound">A</a> <a id="TSPL.2022_Assignment3-3022" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3022" class="Bound">B</a> <a id="TSPL.2022_Assignment3-3024" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-3026" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a><a id="TSPL.2022_Assignment3-3029" class="Symbol">}</a> <a id="TSPL.2022_Assignment3-3031" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3032" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3032" class="Bound">x</a> <a id="TSPL.2022_Assignment3-3034" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-3036" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-3040" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3020" class="Bound">A</a><a id="TSPL.2022_Assignment3-3041" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-3043" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3044" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3044" class="Bound">y</a> <a id="TSPL.2022_Assignment3-3046" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-3048" href="../../../Decidable/#plfa_plfa-part1-Decidable-7228" class="Datatype">Dec</a> <a id="TSPL.2022_Assignment3-3052" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3022" class="Bound">B</a><a id="TSPL.2022_Assignment3-3053" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-3055" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-3057" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-3059" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3032" class="Bound">x</a> <a id="TSPL.2022_Assignment3-3061" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a> <a id="TSPL.2022_Assignment3-3063" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2920" class="Postulate Operator">iff</a> <a id="TSPL.2022_Assignment3-3067" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-3069" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3044" class="Bound">y</a> <a id="TSPL.2022_Assignment3-3071" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a> <a id="TSPL.2022_Assignment3-3073" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="TSPL.2022_Assignment3-3075" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌊</a> <a id="TSPL.2022_Assignment3-3077" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3032" class="Bound">x</a> <a id="TSPL.2022_Assignment3-3079" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-2951" class="Postulate Operator">⇔-dec</a> <a id="TSPL.2022_Assignment3-3085" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3044" class="Bound">y</a> <a id="TSPL.2022_Assignment3-3087" href="../../../Decidable/#plfa_plfa-part1-Decidable-12277" class="Function Operator">⌋</a>
</pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-3104" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-false-practice">Exercise <code>False</code> (practice)</h4><p>Give analogues of <code>True</code>, <code>toWitness</code>, and <code>fromWitness</code> which work with <em>negated</em> properties. Call these <code>False</code>, <code>toWitnessFalse</code>, and <code>fromWitnessFalse</code>.</p><h2 id="lists">Lists</h2><pre class="Agda"><a id="TSPL.2022_Assignment3-3340" class="Keyword">module</a> <a id="TSPL.2022_Assignment3-Lists"></a><a id="TSPL.2022_Assignment3-3347" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-3347" class="Module">Lists</a> <a id="TSPL.2022_Assignment3-3353" class="Keyword">where</a>
</pre><h2 id="imports-1">Imports</h2><pre class="Agda">  <a id="TSPL.2022_Assignment3-3386" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3393" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="TSPL.2022_Assignment3-3431" class="Symbol">as</a> <a id="TSPL.2022_Assignment3-3434" class="Module">Eq</a>
  <a id="TSPL.2022_Assignment3-3439" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3444" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="TSPL.2022_Assignment3-3447" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-3453" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3454" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="TSPL.2022_Assignment3-3457" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3459" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="TSPL.2022_Assignment3-3463" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3465" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="TSPL.2022_Assignment3-3468" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3470" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a><a id="TSPL.2022_Assignment3-3475" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3477" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="TSPL.2022_Assignment3-3481" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-3485" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3490" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">Eq.≡-Reasoning</a>
  <a id="TSPL.2022_Assignment3-3507" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3512" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3519" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.html" class="Module">Data.Bool</a> <a id="TSPL.2022_Assignment3-3529" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-3535" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3536" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="TSPL.2022_Assignment3-3540" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3542" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="TSPL.2022_Assignment3-3546" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3548" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="TSPL.2022_Assignment3-3553" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3555" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#1451" class="Function">T</a><a id="TSPL.2022_Assignment3-3556" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3558" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#986" class="Function Operator">_∧_</a><a id="TSPL.2022_Assignment3-3561" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3563" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#1044" class="Function Operator">_∨_</a><a id="TSPL.2022_Assignment3-3566" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3568" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#932" class="Function">not</a><a id="TSPL.2022_Assignment3-3571" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-3575" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3580" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3587" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="TSPL.2022_Assignment3-3596" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-3602" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3603" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="TSPL.2022_Assignment3-3604" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3606" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="TSPL.2022_Assignment3-3610" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3612" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="TSPL.2022_Assignment3-3615" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3617" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="TSPL.2022_Assignment3-3620" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3622" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="TSPL.2022_Assignment3-3625" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3627" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#2874" class="Primitive Operator">_∸_</a><a id="TSPL.2022_Assignment3-3630" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3632" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="TSPL.2022_Assignment3-3635" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3637" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a><a id="TSPL.2022_Assignment3-3640" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3642" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="TSPL.2022_Assignment3-3645" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-3649" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3654" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3661" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="TSPL.2022_Assignment3-3681" class="Keyword">using</a>
    <a id="TSPL.2022_Assignment3-3691" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3692" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#13062" class="Function">+-assoc</a><a id="TSPL.2022_Assignment3-3699" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3701" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#13163" class="Function">+-identityˡ</a><a id="TSPL.2022_Assignment3-3712" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3714" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#13218" class="Function">+-identityʳ</a><a id="TSPL.2022_Assignment3-3725" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3727" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#21046" class="Function">*-assoc</a><a id="TSPL.2022_Assignment3-3734" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3736" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#19946" class="Function">*-identityˡ</a><a id="TSPL.2022_Assignment3-3747" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3749" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.Properties.html#20010" class="Function">*-identityʳ</a><a id="TSPL.2022_Assignment3-3760" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-3764" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3769" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3776" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="TSPL.2022_Assignment3-3793" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-3799" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3800" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="TSPL.2022_Assignment3-3802" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3804" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a><a id="TSPL.2022_Assignment3-3807" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3809" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="TSPL.2022_Assignment3-3812" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3814" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="TSPL.2022_Assignment3-3816" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-3820" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3825" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3832" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="TSPL.2022_Assignment3-3845" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-3851" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3852" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="TSPL.2022_Assignment3-3855" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3857" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="TSPL.2022_Assignment3-3858" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-3860" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="TSPL.2022_Assignment3-3868" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-3870" class="Keyword">renaming</a> <a id="TSPL.2022_Assignment3-3879" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3880" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="TSPL.2022_Assignment3-3884" class="Symbol">to</a> <a id="TSPL.2022_Assignment3-3887" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="TSPL.2022_Assignment3-3892" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-3896" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3901" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3908" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="TSPL.2022_Assignment3-3917" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-3923" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3924" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="TSPL.2022_Assignment3-3927" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-3931" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3936" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3943" href="https://agda.github.io/agda-stdlib/v1.7.1/Level.html" class="Module">Level</a> <a id="TSPL.2022_Assignment3-3949" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-3955" class="Symbol">(</a><a id="TSPL.2022_Assignment3-3956" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#597" class="Postulate">Level</a><a id="TSPL.2022_Assignment3-3961" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-3965" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-3970" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-3977" href="../../../Isomorphism/#" class="Module">plfa.part1.Isomorphism</a> <a id="TSPL.2022_Assignment3-4000" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-4006" class="Symbol">(</a><a id="TSPL.2022_Assignment3-4007" href="../../../Isomorphism/#plfa_plfa-part1-Isomorphism-4303" class="Record Operator">_≃_</a><a id="TSPL.2022_Assignment3-4010" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-4012" href="../../../Isomorphism/#plfa_plfa-part1-Isomorphism-12023" class="Record Operator">_⇔_</a><a id="TSPL.2022_Assignment3-4015" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-4029" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-4034" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-4041" href="../../../Lists/#" class="Module">plfa.part1.Lists</a>
    <a id="TSPL.2022_Assignment3-4062" class="Keyword">hiding</a> <a id="TSPL.2022_Assignment3-4069" class="Symbol">(</a><a id="TSPL.2022_Assignment3-4070" href="../../../Lists/#plfa_plfa-part1-Lists-18267" class="Function">downFrom</a><a id="TSPL.2022_Assignment3-4078" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-4080" href="../../../Lists/#plfa_plfa-part1-Lists-14908" class="Datatype">Tree</a><a id="TSPL.2022_Assignment3-4084" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-4086" href="../../../Lists/#plfa_plfa-part1-Lists-14939" class="InductiveConstructor">leaf</a><a id="TSPL.2022_Assignment3-4090" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-4092" href="../../../Lists/#plfa_plfa-part1-Lists-14961" class="InductiveConstructor">node</a><a id="TSPL.2022_Assignment3-4096" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-4098" href="../../../Lists/#plfa_plfa-part1-Lists-28791" class="Datatype">merge</a><a id="TSPL.2022_Assignment3-4103" class="Symbol">)</a>
</pre><h4 id="exercise-reverse--distrib-recommended">Exercise <code>reverse-++-distrib</code> (recommended)</h4><p>Show that the reverse of one list appended to another is the reverse of the second appended to the reverse of the first:</p><pre><code>reverse (xs ++ ys) ≡ reverse ys ++ reverse xs</code></pre><h4 id="exercise-reverse-involutive-recommended">Exercise <code>reverse-involutive</code> (recommended)</h4><p>A function is an <em>involution</em> if when applied twice it acts as the identity function. Show that reverse is an involution:</p><pre><code>reverse (reverse xs) ≡ xs</code></pre><h4 id="exercise-map-compose-practice">Exercise <code>map-compose</code> (practice)</h4><p>Prove that the map of a composition is equal to the composition of two maps:</p><pre><code>map (g ∘ f) ≡ map g ∘ map f</code></pre><p>The last step of the proof requires extensionality.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-4754" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-map--distribute-practice">Exercise <code>map-++-distribute</code> (practice)</h4><p>Prove the following relationship between map and append:</p><pre><code>map f (xs ++ ys) ≡ map f xs ++ map f ys</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-4941" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-map-tree-practice">Exercise <code>map-Tree</code> (practice)</h4>Define a type of trees with leaves of type <code>A</code> and internal nodes of type <code>B</code>:<pre class="Agda">  <a id="TSPL.2022_Assignment3-5095" class="Keyword">data</a> <a id="TSPL.2022_Assignment3-Lists.Tree"></a><a id="TSPL.2022_Assignment3-5100" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5100" class="Datatype">Tree</a> <a id="TSPL.2022_Assignment3-5105" class="Symbol">(</a><a id="TSPL.2022_Assignment3-5106" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5106" class="Bound">A</a> <a id="TSPL.2022_Assignment3-5108" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5108" class="Bound">B</a> <a id="TSPL.2022_Assignment3-5110" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-5112" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a><a id="TSPL.2022_Assignment3-5115" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-5117" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-5119" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="TSPL.2022_Assignment3-5123" class="Keyword">where</a>
    <a id="TSPL.2022_Assignment3-Lists.Tree.leaf"></a><a id="TSPL.2022_Assignment3-5133" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5133" class="InductiveConstructor">leaf</a> <a id="TSPL.2022_Assignment3-5138" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-5140" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5106" class="Bound">A</a> <a id="TSPL.2022_Assignment3-5142" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-5144" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5100" class="Datatype">Tree</a> <a id="TSPL.2022_Assignment3-5149" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5106" class="Bound">A</a> <a id="TSPL.2022_Assignment3-5151" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5108" class="Bound">B</a>
    <a id="TSPL.2022_Assignment3-Lists.Tree.node"></a><a id="TSPL.2022_Assignment3-5157" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5157" class="InductiveConstructor">node</a> <a id="TSPL.2022_Assignment3-5162" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-5164" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5100" class="Datatype">Tree</a> <a id="TSPL.2022_Assignment3-5169" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5106" class="Bound">A</a> <a id="TSPL.2022_Assignment3-5171" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5108" class="Bound">B</a> <a id="TSPL.2022_Assignment3-5173" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-5175" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5108" class="Bound">B</a> <a id="TSPL.2022_Assignment3-5177" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-5179" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5100" class="Datatype">Tree</a> <a id="TSPL.2022_Assignment3-5184" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5106" class="Bound">A</a> <a id="TSPL.2022_Assignment3-5186" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5108" class="Bound">B</a> <a id="TSPL.2022_Assignment3-5188" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-5190" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5100" class="Datatype">Tree</a> <a id="TSPL.2022_Assignment3-5195" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5106" class="Bound">A</a> <a id="TSPL.2022_Assignment3-5197" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-5108" class="Bound">B</a>
</pre><p>Define a suitable map operator over trees:</p><pre><code>map-Tree : ∀ {A B C D : Set} → (A → C) → (B → D) → Tree A B → Tree C D</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-5333" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-product-recommended">Exercise <code>product</code> (recommended)</h4><p>Use fold to define a function to find the product of a list of numbers. For example:</p><pre><code>product [ 1 , 2 , 3 , 4 ] ≡ 24</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-5532" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-foldr--recommended">Exercise <code>foldr-++</code> (recommended)</h4><p>Show that fold and append are related as follows:</p><pre><code>foldr _⊗_ e (xs ++ ys) ≡ foldr _⊗_ (foldr _⊗_ e ys) xs</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-5721" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-foldr--practice">Exercise <code>foldr-∷</code> (practice)</h4><p>Show</p><pre><code>foldr _∷_ [] xs ≡ xs</code></pre><p>Show as a consequence of <code>foldr-++</code> above that</p><pre><code>xs ++ ys ≡ foldr _∷_ ys xs</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-5908" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-map-is-foldr-practice">Exercise <code>map-is-foldr</code> (practice)</h4><p>Show that map can be defined using fold:</p><pre><code>map f ≡ foldr (λ x xs → f x ∷ xs) []</code></pre><p>The proof requires extensionality.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-6107" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-fold-tree-practice">Exercise <code>fold-Tree</code> (practice)</h4><p>Define a suitable fold function for the type of trees given earlier:</p><pre><code>fold-Tree : ∀ {A B C : Set} → (A → C) → (C → B → C → C) → Tree A B → C</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-6330" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-map-is-fold-tree-practice">Exercise <code>map-is-fold-Tree</code> (practice)</h4><p>Demonstrate an analogue of <code>map-is-foldr</code> for the type of trees.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-6479" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-sum-downfrom-stretch">Exercise <code>sum-downFrom</code> (stretch)</h4>Define a function that counts down as follows:<pre class="Agda">  <a id="TSPL.2022_Assignment3-Lists.downFrom"></a><a id="TSPL.2022_Assignment3-6604" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6604" class="Function">downFrom</a> <a id="TSPL.2022_Assignment3-6613" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-6615" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="TSPL.2022_Assignment3-6617" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-6619" href="../../../Lists/#plfa_plfa-part1-Lists-1031" class="Datatype">List</a> <a id="TSPL.2022_Assignment3-6624" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="TSPL.2022_Assignment3-6628" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6604" class="Function">downFrom</a> <a id="TSPL.2022_Assignment3-6637" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>     <a id="TSPL.2022_Assignment3-6646" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-6649" href="../../../Lists/#plfa_plfa-part1-Lists-1060" class="InductiveConstructor">[]</a>
  <a id="TSPL.2022_Assignment3-6654" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6604" class="Function">downFrom</a> <a id="TSPL.2022_Assignment3-6663" class="Symbol">(</a><a id="TSPL.2022_Assignment3-6664" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="TSPL.2022_Assignment3-6668" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6668" class="Bound">n</a><a id="TSPL.2022_Assignment3-6669" class="Symbol">)</a>  <a id="TSPL.2022_Assignment3-6672" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-6675" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6668" class="Bound">n</a> <a id="TSPL.2022_Assignment3-6677" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2022_Assignment3-6679" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6604" class="Function">downFrom</a> <a id="TSPL.2022_Assignment3-6688" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6668" class="Bound">n</a>
</pre>For example:<pre class="Agda">  <a id="TSPL.2022_Assignment3-6717" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6717" class="Function">_</a> <a id="TSPL.2022_Assignment3-6719" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-6721" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-6604" class="Function">downFrom</a> <a id="TSPL.2022_Assignment3-6730" class="Number">3</a> <a id="TSPL.2022_Assignment3-6732" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="TSPL.2022_Assignment3-6734" href="../../../Lists/#plfa_plfa-part1-Lists-2861" class="InductiveConstructor Operator">[</a> <a id="TSPL.2022_Assignment3-6736" class="Number">2</a> <a id="TSPL.2022_Assignment3-6738" href="../../../Lists/#plfa_plfa-part1-Lists-2861" class="InductiveConstructor Operator">,</a> <a id="TSPL.2022_Assignment3-6740" class="Number">1</a> <a id="TSPL.2022_Assignment3-6742" href="../../../Lists/#plfa_plfa-part1-Lists-2861" class="InductiveConstructor Operator">,</a> <a id="TSPL.2022_Assignment3-6744" class="Number">0</a> <a id="TSPL.2022_Assignment3-6746" href="../../../Lists/#plfa_plfa-part1-Lists-2861" class="InductiveConstructor Operator">]</a>
  <a id="TSPL.2022_Assignment3-6750" class="Symbol">_</a> <a id="TSPL.2022_Assignment3-6752" class="Symbol">=</a> <a id="TSPL.2022_Assignment3-6754" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre><p>Prove that the sum of the numbers <code>(n - 1) + ⋯ + 0</code> is equal to <code>n * (n ∸ 1) / 2</code>:</p><pre><code>sum (downFrom n) * 2 ≡ n * (n ∸ 1)</code></pre><h4 id="exercise-foldl-practice">Exercise <code>foldl</code> (practice)</h4><p>Define a function <code>foldl</code> which is analogous to <code>foldr</code>, but where operations associate to the left rather than the right. For example:</p><pre><code>foldr _⊗_ e [ x , y , z ]  =  x ⊗ (y ⊗ (z ⊗ e))
foldl _⊗_ e [ x , y , z ]  =  ((e ⊗ x) ⊗ y) ⊗ z</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-7175" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-foldr-monoid-foldl-practice">Exercise <code>foldr-monoid-foldl</code> (practice)</h4><p>Show that if <code>_⊗_</code> and <code>e</code> form a monoid, then <code>foldr _⊗_ e</code> and <code>foldl _⊗_ e</code> always compute the same result.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-7373" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-any---recommended">Exercise <code>Any-++-⇔</code> (recommended)</h4><p>Prove a result similar to <code>All-++-⇔</code>, but with <code>Any</code> in place of <code>All</code>, and a suitable replacement for <code>_×_</code>. As a consequence, demonstrate an equivalence relating <code>_∈_</code> and <code>_++_</code>.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-7636" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-all---stretch">Exercise <code>All-++-≃</code> (stretch)</h4><p>Show that the equivalence <code>All-++-⇔</code> can be extended to an isomorphism.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-7783" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-anyall-recommended">Exercise <code>¬Any⇔All¬</code> (recommended)</h4><p>Show that <code>Any</code> and <code>All</code> satisfy a version of De Morgan’s Law:</p><pre><code>(¬_ ∘ Any P) xs ⇔ All (¬_ ∘ P) xs</code></pre><p>(Can you see why it is important that here <code>_∘_</code> is generalised to arbitrary levels, as described in the section on <a href="../../../Equality/#unipoly">universe polymorphism</a>?)</p><p>Do we also have the following?</p><pre><code>(¬_ ∘ All P) xs ⇔ Any (¬_ ∘ P) xs</code></pre><p>If so, prove; if not, explain why.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-8237" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-anyall-stretch">Exercise <code>¬Any≃All¬</code> (stretch)</h4><p>Show that the equivalence <code>¬Any⇔All¬</code> can be extended to an isomorphism. You will need to use extensionality.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-8423" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-all--practice">Exercise <code>All-∀</code> (practice)</h4><p>Show that <code>All P xs</code> is isomorphic to <code>∀ x → x ∈ xs → P x</code>.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-8556" class="Comment">-- You code goes here</a>
</pre><h4 id="exercise-any--practice">Exercise <code>Any-∃</code> (practice)</h4><p>Show that <code>Any P xs</code> is isomorphic to <code>∃[ x ] (x ∈ xs × P x)</code>.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-8692" class="Comment">-- You code goes here</a>
</pre><h4 id="exercise-any-stretch">Exercise <code>Any?</code> (stretch)</h4><p>Just as <code>All</code> has analogues <code>all</code> and <code>All?</code> which determine whether a predicate holds for every element of a list, so does <code>Any</code> have analogues <code>any</code> and <code>Any?</code> which determine whether a predicate holds for some element of a list. Give their definitions.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-9020" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-split-stretch">Exercise <code>split</code> (stretch)</h4>The relation <code>merge</code> holds when two lists merge to give a third list.<pre class="Agda">  <a id="TSPL.2022_Assignment3-9162" class="Keyword">data</a> <a id="TSPL.2022_Assignment3-Lists.merge"></a><a id="TSPL.2022_Assignment3-9167" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9167" class="Datatype">merge</a> <a id="TSPL.2022_Assignment3-9173" class="Symbol">{</a><a id="TSPL.2022_Assignment3-9174" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9174" class="Bound">A</a> <a id="TSPL.2022_Assignment3-9176" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-9178" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a><a id="TSPL.2022_Assignment3-9181" class="Symbol">}</a> <a id="TSPL.2022_Assignment3-9183" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-9185" class="Symbol">(</a><a id="TSPL.2022_Assignment3-9186" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9186" class="Bound">xs</a> <a id="TSPL.2022_Assignment3-9189" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9189" class="Bound">ys</a> <a id="TSPL.2022_Assignment3-9192" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9192" class="Bound">zs</a> <a id="TSPL.2022_Assignment3-9195" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-9197" href="../../../Lists/#plfa_plfa-part1-Lists-1031" class="Datatype">List</a> <a id="TSPL.2022_Assignment3-9202" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9174" class="Bound">A</a><a id="TSPL.2022_Assignment3-9203" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-9205" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-9207" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="TSPL.2022_Assignment3-9211" class="Keyword">where</a>

    <a id="TSPL.2022_Assignment3-Lists.merge.[]"></a><a id="TSPL.2022_Assignment3-9222" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9222" class="InductiveConstructor">[]</a> <a id="TSPL.2022_Assignment3-9225" class="Symbol">:</a>
        <a id="TSPL.2022_Assignment3-9235" class="Comment">--------------</a>
        <a id="TSPL.2022_Assignment3-9258" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9167" class="Datatype">merge</a> <a id="TSPL.2022_Assignment3-9264" href="../../../Lists/#plfa_plfa-part1-Lists-1060" class="InductiveConstructor">[]</a> <a id="TSPL.2022_Assignment3-9267" href="../../../Lists/#plfa_plfa-part1-Lists-1060" class="InductiveConstructor">[]</a> <a id="TSPL.2022_Assignment3-9270" href="../../../Lists/#plfa_plfa-part1-Lists-1060" class="InductiveConstructor">[]</a>

    <a id="TSPL.2022_Assignment3-Lists.merge.left-∷"></a><a id="TSPL.2022_Assignment3-9278" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9278" class="InductiveConstructor">left-∷</a> <a id="TSPL.2022_Assignment3-9285" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-9287" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-9289" class="Symbol">{</a><a id="TSPL.2022_Assignment3-9290" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9290" class="Bound">x</a> <a id="TSPL.2022_Assignment3-9292" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9292" class="Bound">xs</a> <a id="TSPL.2022_Assignment3-9295" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9295" class="Bound">ys</a> <a id="TSPL.2022_Assignment3-9298" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9298" class="Bound">zs</a><a id="TSPL.2022_Assignment3-9300" class="Symbol">}</a>
      <a id="TSPL.2022_Assignment3-9308" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-9310" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9167" class="Datatype">merge</a> <a id="TSPL.2022_Assignment3-9316" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9292" class="Bound">xs</a> <a id="TSPL.2022_Assignment3-9319" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9295" class="Bound">ys</a> <a id="TSPL.2022_Assignment3-9322" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9298" class="Bound">zs</a>
        <a id="TSPL.2022_Assignment3-9333" class="Comment">--------------------------</a>
      <a id="TSPL.2022_Assignment3-9366" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-9368" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9167" class="Datatype">merge</a> <a id="TSPL.2022_Assignment3-9374" class="Symbol">(</a><a id="TSPL.2022_Assignment3-9375" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9290" class="Bound">x</a> <a id="TSPL.2022_Assignment3-9377" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2022_Assignment3-9379" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9292" class="Bound">xs</a><a id="TSPL.2022_Assignment3-9381" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-9383" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9295" class="Bound">ys</a> <a id="TSPL.2022_Assignment3-9386" class="Symbol">(</a><a id="TSPL.2022_Assignment3-9387" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9290" class="Bound">x</a> <a id="TSPL.2022_Assignment3-9389" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2022_Assignment3-9391" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9298" class="Bound">zs</a><a id="TSPL.2022_Assignment3-9393" class="Symbol">)</a>

    <a id="TSPL.2022_Assignment3-Lists.merge.right-∷"></a><a id="TSPL.2022_Assignment3-9400" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9400" class="InductiveConstructor">right-∷</a> <a id="TSPL.2022_Assignment3-9408" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-9410" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-9412" class="Symbol">{</a><a id="TSPL.2022_Assignment3-9413" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9413" class="Bound">y</a> <a id="TSPL.2022_Assignment3-9415" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9415" class="Bound">xs</a> <a id="TSPL.2022_Assignment3-9418" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9418" class="Bound">ys</a> <a id="TSPL.2022_Assignment3-9421" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9421" class="Bound">zs</a><a id="TSPL.2022_Assignment3-9423" class="Symbol">}</a>
      <a id="TSPL.2022_Assignment3-9431" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-9433" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9167" class="Datatype">merge</a> <a id="TSPL.2022_Assignment3-9439" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9415" class="Bound">xs</a> <a id="TSPL.2022_Assignment3-9442" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9418" class="Bound">ys</a> <a id="TSPL.2022_Assignment3-9445" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9421" class="Bound">zs</a>
        <a id="TSPL.2022_Assignment3-9456" class="Comment">--------------------------</a>
      <a id="TSPL.2022_Assignment3-9489" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-9491" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9167" class="Datatype">merge</a> <a id="TSPL.2022_Assignment3-9497" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9415" class="Bound">xs</a> <a id="TSPL.2022_Assignment3-9500" class="Symbol">(</a><a id="TSPL.2022_Assignment3-9501" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9413" class="Bound">y</a> <a id="TSPL.2022_Assignment3-9503" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2022_Assignment3-9505" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9418" class="Bound">ys</a><a id="TSPL.2022_Assignment3-9507" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-9509" class="Symbol">(</a><a id="TSPL.2022_Assignment3-9510" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9413" class="Bound">y</a> <a id="TSPL.2022_Assignment3-9512" href="../../../Lists/#plfa_plfa-part1-Lists-1075" class="InductiveConstructor Operator">∷</a> <a id="TSPL.2022_Assignment3-9514" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9421" class="Bound">zs</a><a id="TSPL.2022_Assignment3-9516" class="Symbol">)</a>
</pre>For example,<pre class="Agda">  <a id="TSPL.2022_Assignment3-9546" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9546" class="Function">_</a> <a id="TSPL.2022_Assignment3-9548" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-9550" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9167" class="Datatype">merge</a> <a id="TSPL.2022_Assignment3-9556" href="../../../Lists/#plfa_plfa-part1-Lists-2830" class="InductiveConstructor Operator">[</a> <a id="TSPL.2022_Assignment3-9558" class="Number">1</a> <a id="TSPL.2022_Assignment3-9560" href="../../../Lists/#plfa_plfa-part1-Lists-2830" class="InductiveConstructor Operator">,</a> <a id="TSPL.2022_Assignment3-9562" class="Number">4</a> <a id="TSPL.2022_Assignment3-9564" href="../../../Lists/#plfa_plfa-part1-Lists-2830" class="InductiveConstructor Operator">]</a> <a id="TSPL.2022_Assignment3-9566" href="../../../Lists/#plfa_plfa-part1-Lists-2830" class="InductiveConstructor Operator">[</a> <a id="TSPL.2022_Assignment3-9568" class="Number">2</a> <a id="TSPL.2022_Assignment3-9570" href="../../../Lists/#plfa_plfa-part1-Lists-2830" class="InductiveConstructor Operator">,</a> <a id="TSPL.2022_Assignment3-9572" class="Number">3</a> <a id="TSPL.2022_Assignment3-9574" href="../../../Lists/#plfa_plfa-part1-Lists-2830" class="InductiveConstructor Operator">]</a> <a id="TSPL.2022_Assignment3-9576" href="../../../Lists/#plfa_plfa-part1-Lists-2900" class="InductiveConstructor Operator">[</a> <a id="TSPL.2022_Assignment3-9578" class="Number">1</a> <a id="TSPL.2022_Assignment3-9580" href="../../../Lists/#plfa_plfa-part1-Lists-2900" class="InductiveConstructor Operator">,</a> <a id="TSPL.2022_Assignment3-9582" class="Number">2</a> <a id="TSPL.2022_Assignment3-9584" href="../../../Lists/#plfa_plfa-part1-Lists-2900" class="InductiveConstructor Operator">,</a> <a id="TSPL.2022_Assignment3-9586" class="Number">3</a> <a id="TSPL.2022_Assignment3-9588" href="../../../Lists/#plfa_plfa-part1-Lists-2900" class="InductiveConstructor Operator">,</a> <a id="TSPL.2022_Assignment3-9590" class="Number">4</a> <a id="TSPL.2022_Assignment3-9592" href="../../../Lists/#plfa_plfa-part1-Lists-2900" class="InductiveConstructor Operator">]</a>
  <a id="TSPL.2022_Assignment3-9596" class="Symbol">_</a> <a id="TSPL.2022_Assignment3-9598" class="Symbol">=</a> <a id="TSPL.2022_Assignment3-9600" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9278" class="InductiveConstructor">left-∷</a> <a id="TSPL.2022_Assignment3-9607" class="Symbol">(</a><a id="TSPL.2022_Assignment3-9608" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9400" class="InductiveConstructor">right-∷</a> <a id="TSPL.2022_Assignment3-9616" class="Symbol">(</a><a id="TSPL.2022_Assignment3-9617" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9400" class="InductiveConstructor">right-∷</a> <a id="TSPL.2022_Assignment3-9625" class="Symbol">(</a><a id="TSPL.2022_Assignment3-9626" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9278" class="InductiveConstructor">left-∷</a> <a id="TSPL.2022_Assignment3-9633" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-9222" class="InductiveConstructor">[]</a><a id="TSPL.2022_Assignment3-9635" class="Symbol">)))</a>

</pre><p>Given a decidable predicate and a list, we can split the list into two lists that merge to give the original list, where all elements of one list satisfy the predicate, and all elements of the other do not satisfy the predicate.</p><p>Define the following variant of the traditional <code>filter</code> function on lists, which given a decidable predicate and a list returns a list of elements that satisfy the predicate and a list of elements that don’t, with their corresponding proofs.</p><pre><code>split : ∀ {A : Set} {P : A → Set} (P? : Decidable P) (zs : List A)
  → ∃[ xs ] ∃[ ys ] ( merge xs ys zs × All P xs × All (¬_ ∘ P) ys )</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-10273" class="Comment">-- Your code goes here</a>
</pre><h2 id="lambda">Lambda</h2><pre class="Agda"><a id="TSPL.2022_Assignment3-10317" class="Keyword">module</a> <a id="TSPL.2022_Assignment3-Lambda"></a><a id="TSPL.2022_Assignment3-10324" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-10324" class="Module">Lambda</a> <a id="TSPL.2022_Assignment3-10331" class="Keyword">where</a>
</pre><h2 id="imports-2">Imports</h2><pre class="Agda">  <a id="TSPL.2022_Assignment3-10364" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10369" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10376" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.html" class="Module">Data.Bool</a> <a id="TSPL.2022_Assignment3-10386" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10392" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10393" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="TSPL.2022_Assignment3-10397" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10399" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="TSPL.2022_Assignment3-10403" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10405" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="TSPL.2022_Assignment3-10410" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10412" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#1451" class="Function">T</a><a id="TSPL.2022_Assignment3-10413" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10415" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#932" class="Function">not</a><a id="TSPL.2022_Assignment3-10418" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10422" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10427" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10434" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="TSPL.2022_Assignment3-10445" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10451" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10452" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="TSPL.2022_Assignment3-10453" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10455" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="TSPL.2022_Assignment3-10461" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10465" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10470" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10477" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.List.html" class="Module">Data.List</a> <a id="TSPL.2022_Assignment3-10487" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10493" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10494" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.List.html#148" class="Datatype">List</a><a id="TSPL.2022_Assignment3-10498" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10500" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="TSPL.2022_Assignment3-10503" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10505" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.List.Base.html#10383" class="InductiveConstructor">[]</a><a id="TSPL.2022_Assignment3-10507" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10511" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10516" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10523" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="TSPL.2022_Assignment3-10532" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10538" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10539" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="TSPL.2022_Assignment3-10540" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10542" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="TSPL.2022_Assignment3-10546" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10548" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="TSPL.2022_Assignment3-10551" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10555" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10560" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10567" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a> <a id="TSPL.2022_Assignment3-10580" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10586" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10587" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="TSPL.2022_Assignment3-10595" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10597" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="TSPL.2022_Assignment3-10600" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10604" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10609" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10616" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.html" class="Module">Data.String</a> <a id="TSPL.2022_Assignment3-10628" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10634" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10635" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#336" class="Postulate">String</a><a id="TSPL.2022_Assignment3-10641" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10643" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">_≟_</a><a id="TSPL.2022_Assignment3-10646" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10650" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10655" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10662" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Unit.html" class="Module">Data.Unit</a> <a id="TSPL.2022_Assignment3-10672" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10678" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10679" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="TSPL.2022_Assignment3-10681" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10685" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10690" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10697" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="TSPL.2022_Assignment3-10714" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10720" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10721" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a><a id="TSPL.2022_Assignment3-10724" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10726" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="TSPL.2022_Assignment3-10729" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10731" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="TSPL.2022_Assignment3-10733" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10735" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="TSPL.2022_Assignment3-10737" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10741" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10746" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10753" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="TSPL.2022_Assignment3-10780" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10786" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10787" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1406" class="Function">False</a><a id="TSPL.2022_Assignment3-10792" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10794" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Decidable.Core.html#1815" class="Function">toWitnessFalse</a><a id="TSPL.2022_Assignment3-10808" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10812" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10817" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10824" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="TSPL.2022_Assignment3-10850" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10856" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10857" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.Negation.Core.html#1355" class="Function">¬?</a><a id="TSPL.2022_Assignment3-10859" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-10863" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10868" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10875" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="TSPL.2022_Assignment3-10913" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-10919" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10920" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="TSPL.2022_Assignment3-10923" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10925" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="TSPL.2022_Assignment3-10928" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10930" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="TSPL.2022_Assignment3-10934" class="Symbol">)</a>
</pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-10947" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-10952" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-10959" href="../../../Lambda/#" class="Module">plfa.part2.Lambda</a>
    <a id="TSPL.2022_Assignment3-10981" class="Keyword">hiding</a> <a id="TSPL.2022_Assignment3-10988" class="Symbol">(</a><a id="TSPL.2022_Assignment3-10989" href="../../../Lambda/#plfa_plfa-part2-Lambda-7492" class="Function">var?</a><a id="TSPL.2022_Assignment3-10993" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-10995" href="../../../Lambda/#plfa_plfa-part2-Lambda-7559" class="Function Operator">ƛ′_⇒_</a><a id="TSPL.2022_Assignment3-11000" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-11002" href="../../../Lambda/#plfa_plfa-part2-Lambda-7636" class="Function Operator">case′_[zero⇒_|suc_⇒_]</a><a id="TSPL.2022_Assignment3-11023" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-11025" href="../../../Lambda/#plfa_plfa-part2-Lambda-7786" class="Function Operator">μ′_⇒_</a><a id="TSPL.2022_Assignment3-11030" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-11032" href="../../../Lambda/#plfa_plfa-part2-Lambda-8565" class="Function">plus′</a><a id="TSPL.2022_Assignment3-11037" class="Symbol">)</a>
</pre><h4 id="exercise-mul-recommended">Exercise <code>mul</code> (recommended)</h4><p>Write out the definition of a lambda term that multiplies two natural numbers. Your definition may use <code>plus</code> as defined earlier.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-11221" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mulᶜ-practice">Exercise <code>mulᶜ</code> (practice)</h4><p>Write out the definition of a lambda term that multiplies two natural numbers represented as Church numerals. Your definition may use <code>plusᶜ</code> as defined earlier (or may not — there are nice definitions both ways).</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-11508" class="Comment">-- Your code goes here</a>
</pre><h4 id="primed">Exercise <code>primed</code> (stretch)</h4>Some people find it annoying to write <code>` &quot;x&quot;</code> instead of <code>x</code>. We can make examples with lambda terms slightly easier to write by adding the following definitions:<pre class="Agda">  <a id="TSPL.2022_Assignment3-Lambda.var?"></a><a id="TSPL.2022_Assignment3-11758" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11758" class="Function">var?</a> <a id="TSPL.2022_Assignment3-11763" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-11765" class="Symbol">(</a><a id="TSPL.2022_Assignment3-11766" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11766" class="Bound">t</a> <a id="TSPL.2022_Assignment3-11768" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-11770" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a><a id="TSPL.2022_Assignment3-11774" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-11776" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11778" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="TSPL.2022_Assignment3-11785" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11758" class="Function">var?</a> <a id="TSPL.2022_Assignment3-11790" class="Symbol">(</a><a id="TSPL.2022_Assignment3-11791" href="../../../Lambda/#plfa_plfa-part2-Lambda-3985" class="InductiveConstructor Operator">`</a> <a id="TSPL.2022_Assignment3-11793" class="Symbol">_)</a>  <a id="TSPL.2022_Assignment3-11797" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-11800" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
  <a id="TSPL.2022_Assignment3-11807" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11758" class="CatchallClause Function">var?</a><a id="TSPL.2022_Assignment3-11811" class="CatchallClause"> </a><a id="TSPL.2022_Assignment3-11812" class="CatchallClause Symbol">_</a>      <a id="TSPL.2022_Assignment3-11819" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-11822" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

  <a id="TSPL.2022_Assignment3-Lambda.ƛ′_⇒_"></a><a id="TSPL.2022_Assignment3-11831" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11831" class="Function Operator">ƛ′_⇒_</a> <a id="TSPL.2022_Assignment3-11837" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-11839" class="Symbol">(</a><a id="TSPL.2022_Assignment3-11840" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11840" class="Bound">t</a> <a id="TSPL.2022_Assignment3-11842" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-11844" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a><a id="TSPL.2022_Assignment3-11848" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-11850" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11852" class="Symbol">{</a><a id="TSPL.2022_Assignment3-11853" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11853" class="Symbol">_</a> <a id="TSPL.2022_Assignment3-11855" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-11857" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#1451" class="Function">T</a> <a id="TSPL.2022_Assignment3-11859" class="Symbol">(</a><a id="TSPL.2022_Assignment3-11860" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11758" class="Function">var?</a> <a id="TSPL.2022_Assignment3-11865" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11840" class="Bound">t</a><a id="TSPL.2022_Assignment3-11866" class="Symbol">)}</a> <a id="TSPL.2022_Assignment3-11869" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11871" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a> <a id="TSPL.2022_Assignment3-11876" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11878" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a>
  <a id="TSPL.2022_Assignment3-11885" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11831" class="Function Operator">ƛ′_⇒_</a> <a id="TSPL.2022_Assignment3-11891" class="Symbol">(</a><a id="TSPL.2022_Assignment3-11892" href="../../../Lambda/#plfa_plfa-part2-Lambda-3985" class="InductiveConstructor Operator">`</a> <a id="TSPL.2022_Assignment3-11894" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11894" class="Bound">x</a><a id="TSPL.2022_Assignment3-11895" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-11897" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11897" class="Bound">N</a> <a id="TSPL.2022_Assignment3-11899" class="Symbol">=</a> <a id="TSPL.2022_Assignment3-11901" href="../../../Lambda/#plfa_plfa-part2-Lambda-4024" class="InductiveConstructor Operator">ƛ</a> <a id="TSPL.2022_Assignment3-11903" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11894" class="Bound">x</a> <a id="TSPL.2022_Assignment3-11905" href="../../../Lambda/#plfa_plfa-part2-Lambda-4024" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2022_Assignment3-11907" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11897" class="Bound">N</a>

  <a id="TSPL.2022_Assignment3-Lambda.case′_[zero⇒_|suc_⇒_]"></a><a id="TSPL.2022_Assignment3-11912" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">case′_[zero⇒_|suc_⇒_]</a> <a id="TSPL.2022_Assignment3-11934" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-11936" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a> <a id="TSPL.2022_Assignment3-11941" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11943" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a> <a id="TSPL.2022_Assignment3-11948" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11950" class="Symbol">(</a><a id="TSPL.2022_Assignment3-11951" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11951" class="Bound">t</a> <a id="TSPL.2022_Assignment3-11953" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-11955" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a><a id="TSPL.2022_Assignment3-11959" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-11961" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11963" class="Symbol">{</a><a id="TSPL.2022_Assignment3-11964" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11964" class="Symbol">_</a> <a id="TSPL.2022_Assignment3-11966" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-11968" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#1451" class="Function">T</a> <a id="TSPL.2022_Assignment3-11970" class="Symbol">(</a><a id="TSPL.2022_Assignment3-11971" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11758" class="Function">var?</a> <a id="TSPL.2022_Assignment3-11976" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11951" class="Bound">t</a><a id="TSPL.2022_Assignment3-11977" class="Symbol">)}</a> <a id="TSPL.2022_Assignment3-11980" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11982" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a> <a id="TSPL.2022_Assignment3-11987" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-11989" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a>
  <a id="TSPL.2022_Assignment3-11996" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">case′</a> <a id="TSPL.2022_Assignment3-12002" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12002" class="Bound">L</a> <a id="TSPL.2022_Assignment3-12004" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">[zero⇒</a> <a id="TSPL.2022_Assignment3-12011" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12011" class="Bound">M</a> <a id="TSPL.2022_Assignment3-12013" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">|suc</a> <a id="TSPL.2022_Assignment3-12018" class="Symbol">(</a><a id="TSPL.2022_Assignment3-12019" href="../../../Lambda/#plfa_plfa-part2-Lambda-3985" class="InductiveConstructor Operator">`</a> <a id="TSPL.2022_Assignment3-12021" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12021" class="Bound">x</a><a id="TSPL.2022_Assignment3-12022" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-12024" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">⇒</a> <a id="TSPL.2022_Assignment3-12026" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12026" class="Bound">N</a> <a id="TSPL.2022_Assignment3-12028" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">]</a>  <a id="TSPL.2022_Assignment3-12031" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-12034" href="../../../Lambda/#plfa_plfa-part2-Lambda-4193" class="InductiveConstructor Operator">case</a> <a id="TSPL.2022_Assignment3-12039" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12002" class="Bound">L</a> <a id="TSPL.2022_Assignment3-12041" href="../../../Lambda/#plfa_plfa-part2-Lambda-4193" class="InductiveConstructor Operator">[zero⇒</a> <a id="TSPL.2022_Assignment3-12048" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12011" class="Bound">M</a> <a id="TSPL.2022_Assignment3-12050" href="../../../Lambda/#plfa_plfa-part2-Lambda-4193" class="InductiveConstructor Operator">|suc</a> <a id="TSPL.2022_Assignment3-12055" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12021" class="Bound">x</a> <a id="TSPL.2022_Assignment3-12057" href="../../../Lambda/#plfa_plfa-part2-Lambda-4193" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2022_Assignment3-12059" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12026" class="Bound">N</a> <a id="TSPL.2022_Assignment3-12061" href="../../../Lambda/#plfa_plfa-part2-Lambda-4193" class="InductiveConstructor Operator">]</a>

  <a id="TSPL.2022_Assignment3-Lambda.μ′_⇒_"></a><a id="TSPL.2022_Assignment3-12066" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12066" class="Function Operator">μ′_⇒_</a> <a id="TSPL.2022_Assignment3-12072" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-12074" class="Symbol">(</a><a id="TSPL.2022_Assignment3-12075" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12075" class="Bound">t</a> <a id="TSPL.2022_Assignment3-12077" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-12079" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a><a id="TSPL.2022_Assignment3-12083" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-12085" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-12087" class="Symbol">{</a><a id="TSPL.2022_Assignment3-12088" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12088" class="Symbol">_</a> <a id="TSPL.2022_Assignment3-12090" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-12092" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Bool.Base.html#1451" class="Function">T</a> <a id="TSPL.2022_Assignment3-12094" class="Symbol">(</a><a id="TSPL.2022_Assignment3-12095" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11758" class="Function">var?</a> <a id="TSPL.2022_Assignment3-12100" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12075" class="Bound">t</a><a id="TSPL.2022_Assignment3-12101" class="Symbol">)}</a> <a id="TSPL.2022_Assignment3-12104" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-12106" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a> <a id="TSPL.2022_Assignment3-12111" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-12113" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a>
  <a id="TSPL.2022_Assignment3-12120" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12066" class="Function Operator">μ′</a> <a id="TSPL.2022_Assignment3-12123" class="Symbol">(</a><a id="TSPL.2022_Assignment3-12124" href="../../../Lambda/#plfa_plfa-part2-Lambda-3985" class="InductiveConstructor Operator">`</a> <a id="TSPL.2022_Assignment3-12126" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12126" class="Bound">x</a><a id="TSPL.2022_Assignment3-12127" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-12129" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12066" class="Function Operator">⇒</a> <a id="TSPL.2022_Assignment3-12131" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12131" class="Bound">N</a>  <a id="TSPL.2022_Assignment3-12134" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-12137" href="../../../Lambda/#plfa_plfa-part2-Lambda-4253" class="InductiveConstructor Operator">μ</a> <a id="TSPL.2022_Assignment3-12139" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12126" class="Bound">x</a> <a id="TSPL.2022_Assignment3-12141" href="../../../Lambda/#plfa_plfa-part2-Lambda-4253" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2022_Assignment3-12143" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12131" class="Bound">N</a>
</pre><p>Recall that <code>T</code> is a function that maps from the computation world to the evidence world, as <a href="../../../Decidable/#relating-evidence-and-computation">defined</a> in Chapter <a href="../../../Decidable/">Decidable</a>. We ensure to use the primed functions only when the respective term argument is a variable, which we do by providing implicit evidence. For example, if we tried to define an abstraction term that binds anything but a variable:</p><pre><code>_ : Term
_ = ƛ′ two ⇒ two</code></pre><p>Agda would complain it cannot find a value of the bottom type for the implicit argument. Note the implicit argument’s type reduces to <code>⊥</code> when term <code>t</code> is anything but a variable.</p>The definition of <code>plus</code> can now be written as follows:<pre class="Agda">  <a id="TSPL.2022_Assignment3-Lambda.plus′"></a><a id="TSPL.2022_Assignment3-12849" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12849" class="Function">plus′</a> <a id="TSPL.2022_Assignment3-12855" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-12857" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a>
  <a id="TSPL.2022_Assignment3-12864" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12849" class="Function">plus′</a> <a id="TSPL.2022_Assignment3-12870" class="Symbol">=</a> <a id="TSPL.2022_Assignment3-12872" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12066" class="Function Operator">μ′</a> <a id="TSPL.2022_Assignment3-12875" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12992" class="Function">+</a> <a id="TSPL.2022_Assignment3-12877" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12066" class="Function Operator">⇒</a> <a id="TSPL.2022_Assignment3-12879" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11831" class="Function Operator">ƛ′</a> <a id="TSPL.2022_Assignment3-12882" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13008" class="Function">m</a> <a id="TSPL.2022_Assignment3-12884" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11831" class="Function Operator">⇒</a> <a id="TSPL.2022_Assignment3-12886" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11831" class="Function Operator">ƛ′</a> <a id="TSPL.2022_Assignment3-12889" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13024" class="Function">n</a> <a id="TSPL.2022_Assignment3-12891" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11831" class="Function Operator">⇒</a>
            <a id="TSPL.2022_Assignment3-12905" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">case′</a> <a id="TSPL.2022_Assignment3-12911" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13008" class="Function">m</a>
              <a id="TSPL.2022_Assignment3-12927" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">[zero⇒</a> <a id="TSPL.2022_Assignment3-12934" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13024" class="Function">n</a>
              <a id="TSPL.2022_Assignment3-12950" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">|suc</a> <a id="TSPL.2022_Assignment3-12955" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13008" class="Function">m</a> <a id="TSPL.2022_Assignment3-12957" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">⇒</a> <a id="TSPL.2022_Assignment3-12959" href="../../../Lambda/#plfa_plfa-part2-Lambda-4152" class="InductiveConstructor Operator">`suc</a> <a id="TSPL.2022_Assignment3-12964" class="Symbol">(</a><a id="TSPL.2022_Assignment3-12965" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12992" class="Function">+</a> <a id="TSPL.2022_Assignment3-12967" href="../../../Lambda/#plfa_plfa-part2-Lambda-4070" class="InductiveConstructor Operator">·</a> <a id="TSPL.2022_Assignment3-12969" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13008" class="Function">m</a> <a id="TSPL.2022_Assignment3-12971" href="../../../Lambda/#plfa_plfa-part2-Lambda-4070" class="InductiveConstructor Operator">·</a> <a id="TSPL.2022_Assignment3-12973" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13024" class="Function">n</a><a id="TSPL.2022_Assignment3-12974" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-12976" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-11912" class="Function Operator">]</a>
    <a id="TSPL.2022_Assignment3-12982" class="Keyword">where</a>
    <a id="TSPL.2022_Assignment3-12992" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-12992" class="Function">+</a>  <a id="TSPL.2022_Assignment3-12995" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-12998" href="../../../Lambda/#plfa_plfa-part2-Lambda-3985" class="InductiveConstructor Operator">`</a> <a id="TSPL.2022_Assignment3-13000" class="String">&quot;+&quot;</a>
    <a id="TSPL.2022_Assignment3-13008" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13008" class="Function">m</a>  <a id="TSPL.2022_Assignment3-13011" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-13014" href="../../../Lambda/#plfa_plfa-part2-Lambda-3985" class="InductiveConstructor Operator">`</a> <a id="TSPL.2022_Assignment3-13016" class="String">&quot;m&quot;</a>
    <a id="TSPL.2022_Assignment3-13024" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-13024" class="Function">n</a>  <a id="TSPL.2022_Assignment3-13027" class="Symbol">=</a>  <a id="TSPL.2022_Assignment3-13030" href="../../../Lambda/#plfa_plfa-part2-Lambda-3985" class="InductiveConstructor Operator">`</a> <a id="TSPL.2022_Assignment3-13032" class="String">&quot;n&quot;</a>
</pre><p>Write out the definition of multiplication in the same style.</p><h4 id="exercise-___-stretch">Exercise <code>_[_:=_]′</code> (stretch)</h4><p>The definition of substitution above has three clauses (<code>ƛ</code>, <code>case</code>, and <code>μ</code>) that invoke a <code>with</code> clause to deal with bound variables. Rewrite the definition to factor the common part of these three clauses into a single function, defined by mutual recursion with substitution.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-13430" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-practice">Exercise <code>—↠≲—↠′</code> (practice)</h4><p>Show that the first notion of reflexive and transitive closure above embeds into the second. Why are they not isomorphic?</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-13627" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-plus-example-practice">Exercise <code>plus-example</code> (practice)</h4><p>Write out the reduction sequence demonstrating that one plus one is two.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-13780" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-context--practice">Exercise <code>Context-≃</code> (practice)</h4><p>Show that <code>Context</code> is isomorphic to <code>List (Id × Type)</code>. For instance, the isomorphism relates the context</p><pre><code>∅ , &quot;s&quot; ⦂ `ℕ ⇒ `ℕ , &quot;z&quot; ⦂ `ℕ</code></pre><p>to the list</p><pre><code>[ ⟨ &quot;z&quot; , `ℕ ⟩ , ⟨ &quot;s&quot; , `ℕ ⇒ `ℕ ⟩ ]</code></pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-14054" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mul-recommended-1">Exercise <code>⊢mul</code> (recommended)</h4><p>Using the term <code>mul</code> you defined earlier, write out the derivation showing that it is well typed.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-14227" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mulᶜ-practice-1">Exercise <code>⊢mulᶜ</code> (practice)</h4><p>Using the term <code>mulᶜ</code> you defined earlier, write out the derivation showing that it is well typed.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-14400" class="Comment">-- Your code goes here</a>
</pre><h2 id="properties">Properties</h2><pre class="Agda"><a id="TSPL.2022_Assignment3-14449" class="Keyword">module</a> <a id="TSPL.2022_Assignment3-Properties"></a><a id="TSPL.2022_Assignment3-14456" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-14456" class="Module">Properties</a> <a id="TSPL.2022_Assignment3-14467" class="Keyword">where</a>
</pre><h2 id="imports-3">Imports</h2><pre class="Agda">  <a id="TSPL.2022_Assignment3-14500" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14505" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14512" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
    <a id="TSPL.2022_Assignment3-14554" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-14560" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14561" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="TSPL.2022_Assignment3-14564" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14566" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">_≢_</a><a id="TSPL.2022_Assignment3-14569" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14571" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="TSPL.2022_Assignment3-14575" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14577" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="TSPL.2022_Assignment3-14580" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14582" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="TSPL.2022_Assignment3-14586" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14588" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">cong₂</a><a id="TSPL.2022_Assignment3-14593" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-14597" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14602" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14609" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.html" class="Module">Data.String</a> <a id="TSPL.2022_Assignment3-14621" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-14627" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14628" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.String.html#336" class="Postulate">String</a><a id="TSPL.2022_Assignment3-14634" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14636" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.String.Properties.html#2275" class="Function Operator">_≟_</a><a id="TSPL.2022_Assignment3-14639" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-14643" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14648" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14655" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Nat.html" class="Module">Data.Nat</a> <a id="TSPL.2022_Assignment3-14664" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-14670" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14671" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="TSPL.2022_Assignment3-14672" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14674" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="TSPL.2022_Assignment3-14678" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14680" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="TSPL.2022_Assignment3-14683" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-14687" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14692" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14699" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html" class="Module">Data.Empty</a> <a id="TSPL.2022_Assignment3-14710" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-14716" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14717" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#526" class="Datatype">⊥</a><a id="TSPL.2022_Assignment3-14718" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14720" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Empty.html#628" class="Function">⊥-elim</a><a id="TSPL.2022_Assignment3-14726" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-14730" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14735" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14742" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html" class="Module">Data.Product</a>
    <a id="TSPL.2022_Assignment3-14759" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-14765" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14766" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1167" class="Function Operator">_×_</a><a id="TSPL.2022_Assignment3-14769" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14771" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="TSPL.2022_Assignment3-14776" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14778" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="TSPL.2022_Assignment3-14783" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14785" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1369" class="Function">∃</a><a id="TSPL.2022_Assignment3-14786" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14788" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Product.html#1806" class="Function">∃-syntax</a><a id="TSPL.2022_Assignment3-14796" class="Symbol">)</a>
    <a id="TSPL.2022_Assignment3-14802" class="Keyword">renaming</a> <a id="TSPL.2022_Assignment3-14811" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14812" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="TSPL.2022_Assignment3-14816" class="Symbol">to</a> <a id="TSPL.2022_Assignment3-14819" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="TSPL.2022_Assignment3-14824" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-14828" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14833" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14840" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.html" class="Module">Data.Sum</a> <a id="TSPL.2022_Assignment3-14849" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-14855" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14856" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#734" class="Datatype Operator">_⊎_</a><a id="TSPL.2022_Assignment3-14859" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14861" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a><a id="TSPL.2022_Assignment3-14865" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14867" href="https://agda.github.io/agda-stdlib/v1.7.1/Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a><a id="TSPL.2022_Assignment3-14871" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-14875" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14880" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14887" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="TSPL.2022_Assignment3-14904" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-14910" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14911" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬_</a><a id="TSPL.2022_Assignment3-14913" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14915" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a><a id="TSPL.2022_Assignment3-14918" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14920" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="TSPL.2022_Assignment3-14923" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-14925" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="TSPL.2022_Assignment3-14927" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-14931" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14936" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14943" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.html" class="Module">Function</a> <a id="TSPL.2022_Assignment3-14952" class="Keyword">using</a> <a id="TSPL.2022_Assignment3-14958" class="Symbol">(</a><a id="TSPL.2022_Assignment3-14959" href="https://agda.github.io/agda-stdlib/v1.7.1/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="TSPL.2022_Assignment3-14962" class="Symbol">)</a>
  <a id="TSPL.2022_Assignment3-14966" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-14971" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-14978" href="../../../Isomorphism/#" class="Module">plfa.part1.Isomorphism</a>
  <a id="TSPL.2022_Assignment3-15003" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-15008" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-15015" href="../../../Lambda/#" class="Module">plfa.part2.Lambda</a>
</pre><pre class="Agda">  <a id="TSPL.2022_Assignment3-15045" class="Keyword">open</a> <a id="TSPL.2022_Assignment3-15050" class="Keyword">import</a> <a id="TSPL.2022_Assignment3-15057" href="../../../Properties/#" class="Module">plfa.part2.Properties</a>
    <a id="TSPL.2022_Assignment3-15083" class="Keyword">hiding</a> <a id="TSPL.2022_Assignment3-15090" class="Symbol">(</a><a id="TSPL.2022_Assignment3-15091" href="../../../Properties/#plfa_plfa-part2-Properties-10093" class="Postulate">value?</a><a id="TSPL.2022_Assignment3-15097" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-15099" href="../../../Properties/#plfa_plfa-part2-Properties-4738" class="Datatype Operator">Canonical_⦂_</a><a id="TSPL.2022_Assignment3-15111" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-15113" href="../../../Properties/#plfa_plfa-part2-Properties-40325" class="Postulate">unstuck</a><a id="TSPL.2022_Assignment3-15120" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-15122" href="../../../Properties/#plfa_plfa-part2-Properties-40529" class="Postulate">preserves</a><a id="TSPL.2022_Assignment3-15131" class="Symbol">;</a> <a id="TSPL.2022_Assignment3-15133" href="../../../Properties/#plfa_plfa-part2-Properties-40770" class="Postulate">wttdgs</a><a id="TSPL.2022_Assignment3-15139" class="Symbol">)</a>
</pre><h4 id="exercise-canonical--practice">Exercise <code>Canonical-≃</code> (practice)</h4>Well-typed values must take one of a small number of <em>canonical forms</em>, which provide an analogue of the <code>Value</code> relation that relates values to their types. A lambda expression must have a function type, and a zero or successor expression must be a natural. Further, the body of a function must be well typed in a context containing only its bound variable, and the argument of successor must itself be canonical:<pre class="Agda">  <a id="TSPL.2022_Assignment3-15612" class="Keyword">infix</a>  <a id="TSPL.2022_Assignment3-15619" class="Number">4</a> <a id="TSPL.2022_Assignment3-15621" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">Canonical_⦂_</a>

  <a id="TSPL.2022_Assignment3-15637" class="Keyword">data</a> <a id="TSPL.2022_Assignment3-Properties.Canonical_⦂_"></a><a id="TSPL.2022_Assignment3-15642" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">Canonical_⦂_</a> <a id="TSPL.2022_Assignment3-15655" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-15657" href="../../../Lambda/#plfa_plfa-part2-Lambda-3966" class="Datatype">Term</a> <a id="TSPL.2022_Assignment3-15662" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-15664" href="../../../Lambda/#plfa_plfa-part2-Lambda-30075" class="Datatype">Type</a> <a id="TSPL.2022_Assignment3-15669" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-15671" href="https://agda.github.io/agda-stdlib/v1.7.1/Agda.Primitive.html#326" class="Primitive">Set</a> <a id="TSPL.2022_Assignment3-15675" class="Keyword">where</a>

    <a id="TSPL.2022_Assignment3-Properties.Canonical_⦂_.C-ƛ"></a><a id="TSPL.2022_Assignment3-15686" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15686" class="InductiveConstructor">C-ƛ</a> <a id="TSPL.2022_Assignment3-15690" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-15692" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-15694" class="Symbol">{</a><a id="TSPL.2022_Assignment3-15695" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15695" class="Bound">x</a> <a id="TSPL.2022_Assignment3-15697" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15697" class="Bound">A</a> <a id="TSPL.2022_Assignment3-15699" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15699" class="Bound">N</a> <a id="TSPL.2022_Assignment3-15701" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15701" class="Bound">B</a><a id="TSPL.2022_Assignment3-15702" class="Symbol">}</a>
      <a id="TSPL.2022_Assignment3-15710" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-15712" href="../../../Lambda/#plfa_plfa-part2-Lambda-31765" class="InductiveConstructor">∅</a> <a id="TSPL.2022_Assignment3-15714" href="../../../Lambda/#plfa_plfa-part2-Lambda-31783" class="InductiveConstructor Operator">,</a> <a id="TSPL.2022_Assignment3-15716" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15695" class="Bound">x</a> <a id="TSPL.2022_Assignment3-15718" href="../../../Lambda/#plfa_plfa-part2-Lambda-31783" class="InductiveConstructor Operator">⦂</a> <a id="TSPL.2022_Assignment3-15720" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15697" class="Bound">A</a> <a id="TSPL.2022_Assignment3-15722" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⊢</a> <a id="TSPL.2022_Assignment3-15724" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15699" class="Bound">N</a> <a id="TSPL.2022_Assignment3-15726" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-15728" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15701" class="Bound">B</a>
        <a id="TSPL.2022_Assignment3-15738" class="Comment">-----------------------------</a>
      <a id="TSPL.2022_Assignment3-15774" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-15776" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">Canonical</a> <a id="TSPL.2022_Assignment3-15786" class="Symbol">(</a><a id="TSPL.2022_Assignment3-15787" href="../../../Lambda/#plfa_plfa-part2-Lambda-4024" class="InductiveConstructor Operator">ƛ</a> <a id="TSPL.2022_Assignment3-15789" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15695" class="Bound">x</a> <a id="TSPL.2022_Assignment3-15791" href="../../../Lambda/#plfa_plfa-part2-Lambda-4024" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2022_Assignment3-15793" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15699" class="Bound">N</a><a id="TSPL.2022_Assignment3-15794" class="Symbol">)</a> <a id="TSPL.2022_Assignment3-15796" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-15798" class="Symbol">(</a><a id="TSPL.2022_Assignment3-15799" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15697" class="Bound">A</a> <a id="TSPL.2022_Assignment3-15801" href="../../../Lambda/#plfa_plfa-part2-Lambda-30094" class="InductiveConstructor Operator">⇒</a> <a id="TSPL.2022_Assignment3-15803" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15701" class="Bound">B</a><a id="TSPL.2022_Assignment3-15804" class="Symbol">)</a>

    <a id="TSPL.2022_Assignment3-Properties.Canonical_⦂_.C-zero"></a><a id="TSPL.2022_Assignment3-15811" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15811" class="InductiveConstructor">C-zero</a> <a id="TSPL.2022_Assignment3-15818" class="Symbol">:</a>
        <a id="TSPL.2022_Assignment3-15828" class="Comment">--------------------</a>
        <a id="TSPL.2022_Assignment3-15857" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">Canonical</a> <a id="TSPL.2022_Assignment3-15867" href="../../../Lambda/#plfa_plfa-part2-Lambda-4118" class="InductiveConstructor">`zero</a> <a id="TSPL.2022_Assignment3-15873" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-15875" href="../../../Lambda/#plfa_plfa-part2-Lambda-30121" class="InductiveConstructor">`ℕ</a>

    <a id="TSPL.2022_Assignment3-Properties.Canonical_⦂_.C-suc"></a><a id="TSPL.2022_Assignment3-15883" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15883" class="InductiveConstructor">C-suc</a> <a id="TSPL.2022_Assignment3-15889" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-15891" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-15893" class="Symbol">{</a><a id="TSPL.2022_Assignment3-15894" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15894" class="Bound">V</a><a id="TSPL.2022_Assignment3-15895" class="Symbol">}</a>
      <a id="TSPL.2022_Assignment3-15903" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-15905" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">Canonical</a> <a id="TSPL.2022_Assignment3-15915" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15894" class="Bound">V</a> <a id="TSPL.2022_Assignment3-15917" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-15919" href="../../../Lambda/#plfa_plfa-part2-Lambda-30121" class="InductiveConstructor">`ℕ</a>
        <a id="TSPL.2022_Assignment3-15930" class="Comment">---------------------</a>
      <a id="TSPL.2022_Assignment3-15958" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-15960" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">Canonical</a> <a id="TSPL.2022_Assignment3-15970" href="../../../Lambda/#plfa_plfa-part2-Lambda-4152" class="InductiveConstructor Operator">`suc</a> <a id="TSPL.2022_Assignment3-15975" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15894" class="Bound">V</a> <a id="TSPL.2022_Assignment3-15977" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-15642" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-15979" href="../../../Lambda/#plfa_plfa-part2-Lambda-30121" class="InductiveConstructor">`ℕ</a>
</pre><p>Show that <code>Canonical V ⦂ A</code> is isomorphic to <code>(∅ ⊢ V ⦂ A) × (Value V)</code>, that is, the canonical forms are exactly the well-typed values.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-16130" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-progress--practice">Exercise <code>Progress-≃</code> (practice)</h4><p>Show that <code>Progress M</code> is isomorphic to <code>Value M ⊎ ∃[ N ](M —→ N)</code>.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-16276" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-progress-practice">Exercise <code>progress′</code> (practice)</h4><p>Write out the proof of <code>progress′</code> in full, and compare it to the proof of <code>progress</code> above.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-16446" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-value-practice">Exercise <code>value?</code> (practice)</h4>Combine <code>progress</code> and <code>—→¬V</code> to write a program that decides whether a well-typed term is a value:<pre class="Agda">  <a id="TSPL.2022_Assignment3-16619" class="Keyword">postulate</a>
    <a id="TSPL.2022_Assignment3-Properties.value?"></a><a id="TSPL.2022_Assignment3-16633" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-16633" class="Postulate">value?</a> <a id="TSPL.2022_Assignment3-16640" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-16642" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-16644" class="Symbol">{</a><a id="TSPL.2022_Assignment3-16645" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-16645" class="Bound">A</a> <a id="TSPL.2022_Assignment3-16647" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-16647" class="Bound">M</a><a id="TSPL.2022_Assignment3-16648" class="Symbol">}</a> <a id="TSPL.2022_Assignment3-16650" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-16652" href="../../../Lambda/#plfa_plfa-part2-Lambda-31765" class="InductiveConstructor">∅</a> <a id="TSPL.2022_Assignment3-16654" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⊢</a> <a id="TSPL.2022_Assignment3-16656" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-16647" class="Bound">M</a> <a id="TSPL.2022_Assignment3-16658" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-16660" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-16645" class="Bound">A</a> <a id="TSPL.2022_Assignment3-16662" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-16664" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#1511" class="Record">Dec</a> <a id="TSPL.2022_Assignment3-16668" class="Symbol">(</a><a id="TSPL.2022_Assignment3-16669" href="../../../Lambda/#plfa_plfa-part2-Lambda-12272" class="Datatype">Value</a> <a id="TSPL.2022_Assignment3-16675" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-16647" class="Bound">M</a><a id="TSPL.2022_Assignment3-16676" class="Symbol">)</a>
</pre><h4 id="exercise-subst-stretch">Exercise <code>subst′</code> (stretch)</h4><p>Rewrite <code>subst</code> to work with the modified definition <code>_[_:=_]′</code> from the exercise in the previous chapter. As before, this should factor dealing with bound variables into a single function, defined by mutual recursion with the proof that substitution preserves types.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-16997" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-mul-eval-recommended">Exercise <code>mul-eval</code> (recommended)</h4><p>Using the evaluator, confirm that two times two is four.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-17134" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-progress-preservation-practice">Exercise: <code>progress-preservation</code> (practice)</h4><p>Without peeking at their statements above, write down the progress and preservation theorems for the simply typed lambda-calculus.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-17356" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-subject_expansion-practice">Exercise <code>subject_expansion</code> (practice)</h4><p>We say that <code>M</code> <em>reduces</em> to <code>N</code> if <code>M —→ N</code>, but we can also describe the same situation by saying that <code>N</code> <em>expands</em> to <code>M</code>. The preservation property is sometimes called <em>subject reduction</em>. Its opposite is <em>subject expansion</em>, which holds if <code>M —→ N</code> and <code>∅ ⊢ N ⦂ A</code> imply <code>∅ ⊢ M ⦂ A</code>. Find two counter-examples to subject expansion, one with case expressions and one not involving case expressions.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-17846" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-stuck-practice">Exercise <code>stuck</code> (practice)</h4><p>Give an example of an ill-typed term that does get stuck.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-17978" class="Comment">-- Your code goes here</a>
</pre><h4 id="exercise-unstuck-recommended">Exercise <code>unstuck</code> (recommended)</h4>Using progress, it is easy to show that no well-typed term is stuck:<pre class="Agda">  <a id="TSPL.2022_Assignment3-18124" class="Keyword">postulate</a>
    <a id="TSPL.2022_Assignment3-Properties.unstuck"></a><a id="TSPL.2022_Assignment3-18138" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18138" class="Postulate">unstuck</a> <a id="TSPL.2022_Assignment3-18146" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-18148" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-18150" class="Symbol">{</a><a id="TSPL.2022_Assignment3-18151" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18151" class="Bound">M</a> <a id="TSPL.2022_Assignment3-18153" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18153" class="Bound">A</a><a id="TSPL.2022_Assignment3-18154" class="Symbol">}</a>
      <a id="TSPL.2022_Assignment3-18162" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-18164" href="../../../Lambda/#plfa_plfa-part2-Lambda-31765" class="InductiveConstructor">∅</a> <a id="TSPL.2022_Assignment3-18166" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⊢</a> <a id="TSPL.2022_Assignment3-18168" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18151" class="Bound">M</a> <a id="TSPL.2022_Assignment3-18170" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-18172" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18153" class="Bound">A</a>
        <a id="TSPL.2022_Assignment3-18182" class="Comment">-----------</a>
      <a id="TSPL.2022_Assignment3-18200" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-18202" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="TSPL.2022_Assignment3-18204" class="Symbol">(</a><a id="TSPL.2022_Assignment3-18205" href="../../../Properties/#plfa_plfa-part2-Properties-40179" class="Function">Stuck</a> <a id="TSPL.2022_Assignment3-18211" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18151" class="Bound">M</a><a id="TSPL.2022_Assignment3-18212" class="Symbol">)</a>
</pre>Using preservation, it is easy to show that after any number of steps, a well-typed term remains well typed:<pre class="Agda">  <a id="TSPL.2022_Assignment3-18338" class="Keyword">postulate</a>
    <a id="TSPL.2022_Assignment3-Properties.preserves"></a><a id="TSPL.2022_Assignment3-18352" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18352" class="Postulate">preserves</a> <a id="TSPL.2022_Assignment3-18362" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-18364" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-18366" class="Symbol">{</a><a id="TSPL.2022_Assignment3-18367" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18367" class="Bound">M</a> <a id="TSPL.2022_Assignment3-18369" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18369" class="Bound">N</a> <a id="TSPL.2022_Assignment3-18371" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18371" class="Bound">A</a><a id="TSPL.2022_Assignment3-18372" class="Symbol">}</a>
      <a id="TSPL.2022_Assignment3-18380" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-18382" href="../../../Lambda/#plfa_plfa-part2-Lambda-31765" class="InductiveConstructor">∅</a> <a id="TSPL.2022_Assignment3-18384" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⊢</a> <a id="TSPL.2022_Assignment3-18386" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18367" class="Bound">M</a> <a id="TSPL.2022_Assignment3-18388" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-18390" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18371" class="Bound">A</a>
      <a id="TSPL.2022_Assignment3-18398" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-18400" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18367" class="Bound">M</a> <a id="TSPL.2022_Assignment3-18402" href="../../../Lambda/#plfa_plfa-part2-Lambda-23259" class="Datatype Operator">—↠</a> <a id="TSPL.2022_Assignment3-18405" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18369" class="Bound">N</a>
        <a id="TSPL.2022_Assignment3-18415" class="Comment">---------</a>
      <a id="TSPL.2022_Assignment3-18431" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-18433" href="../../../Lambda/#plfa_plfa-part2-Lambda-31765" class="InductiveConstructor">∅</a> <a id="TSPL.2022_Assignment3-18435" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⊢</a> <a id="TSPL.2022_Assignment3-18437" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18369" class="Bound">N</a> <a id="TSPL.2022_Assignment3-18439" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-18441" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18371" class="Bound">A</a>
</pre>An easy consequence is that starting from a well-typed term, taking any number of reduction steps leads to a term that is not stuck:<pre class="Agda">  <a id="TSPL.2022_Assignment3-18591" class="Keyword">postulate</a>
    <a id="TSPL.2022_Assignment3-Properties.wttdgs"></a><a id="TSPL.2022_Assignment3-18605" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18605" class="Postulate">wttdgs</a> <a id="TSPL.2022_Assignment3-18612" class="Symbol">:</a> <a id="TSPL.2022_Assignment3-18614" class="Symbol">∀</a> <a id="TSPL.2022_Assignment3-18616" class="Symbol">{</a><a id="TSPL.2022_Assignment3-18617" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18617" class="Bound">M</a> <a id="TSPL.2022_Assignment3-18619" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18619" class="Bound">N</a> <a id="TSPL.2022_Assignment3-18621" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18621" class="Bound">A</a><a id="TSPL.2022_Assignment3-18622" class="Symbol">}</a>
      <a id="TSPL.2022_Assignment3-18630" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-18632" href="../../../Lambda/#plfa_plfa-part2-Lambda-31765" class="InductiveConstructor">∅</a> <a id="TSPL.2022_Assignment3-18634" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⊢</a> <a id="TSPL.2022_Assignment3-18636" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18617" class="Bound">M</a> <a id="TSPL.2022_Assignment3-18638" href="../../../Lambda/#plfa_plfa-part2-Lambda-34691" class="Datatype Operator">⦂</a> <a id="TSPL.2022_Assignment3-18640" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18621" class="Bound">A</a>
      <a id="TSPL.2022_Assignment3-18648" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-18650" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18617" class="Bound">M</a> <a id="TSPL.2022_Assignment3-18652" href="../../../Lambda/#plfa_plfa-part2-Lambda-23259" class="Datatype Operator">—↠</a> <a id="TSPL.2022_Assignment3-18655" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18619" class="Bound">N</a>
        <a id="TSPL.2022_Assignment3-18665" class="Comment">-----------</a>
      <a id="TSPL.2022_Assignment3-18683" class="Symbol">→</a> <a id="TSPL.2022_Assignment3-18685" href="https://agda.github.io/agda-stdlib/v1.7.1/Relation.Nullary.html#656" class="Function Operator">¬</a> <a id="TSPL.2022_Assignment3-18687" class="Symbol">(</a><a id="TSPL.2022_Assignment3-18688" href="../../../Properties/#plfa_plfa-part2-Properties-40179" class="Function">Stuck</a> <a id="TSPL.2022_Assignment3-18694" href="../../../TSPL/2022/Assignment3/#TSPL.2022_Assignment3-18619" class="Bound">N</a><a id="TSPL.2022_Assignment3-18695" class="Symbol">)</a>
</pre><p>Felleisen and Wright, who introduced proofs via progress and preservation, summarised this result with the slogan <em>well-typed terms don’t get stuck</em>.Provide proofs of the three postulates, <code>unstuck</code>, <code>preserves</code>, and <code>wttdgs</code> above.</p><pre class="Agda">  <a id="TSPL.2022_Assignment3-18945" class="Comment">-- Your code goes here</a>
</pre></div><nav class="pager"><ul class="pagination"><li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/courses/TSPL/2022/Assignment3.lagda.md">Source</a></li><li class="separator">•</li></ul></nav></article></div></main><footer class="site-footer h-card"><data class="u-url" href="../../../"></data><div class="wrapper"><h2 class="footer-heading">Programming Language Foundations in Agda</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Philip Wadler</li><li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk"><i class="far fa-envelope"></i>  wadler@inf.ed.ac.uk</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wadler" title="wadler"><i class="fab fa-github"></i>  wadler</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Wen Kokke</li><li><a class="u-email" href="mailto:me@wen.works"><i class="far fa-envelope"></i>  me@wen.works</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><i class="fab fa-github"></i>  wenkokke</a></li><li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><i class="fab fa-twitter"></i>  wenkokke</a></li></ul></div><div class="footer-col footer-col-3"></div></div><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li class="p-name">Jeremy G. Siek</li><li><a class="u-email" href="mailto:jsiek@indiana.edu"><i class="far fa-envelope"></i>  jsiek@indiana.edu</a></li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jsiek" title="jsiek"><i class="fab fa-github"></i>  jsiek</a></li><li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><i class="fab fa-twitter"></i>  jeremysiek</a></li></ul></div><div class="footer-col footer-col-3"></div></div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a></div></footer></body></html>